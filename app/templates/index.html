<!DOCTYPE html>
<html>
  <head>
        <meta charset="UTF-8">
        <title>One Million Arab Coders</title>
        <link rel="stylesheet" href="/static/css/style.css">
  </head>
  <body>
    <div id="header">
      <div class="container">
        <div class="float-left"></div>
        <div class="float-right">
          <a href="{{ url_for('home') }}"><img src="/static/img/OMAC.png"></a>
          </div>
      </div>
    </div>

       <div id="main">
         <div class="container">
           <a href="{{ url_for('topic_add') }}">Create</a>
           <div>
               <table>
                 <thead>
               <tr>
                   <th>
                       Title
                   </th>

                   <th>
                       Show
                   </th>

                   <th>
                       Edit
                   </th>

                   <th>
                       Delete
                   </th>
               </tr>
           </thead>
                   <tbody>
                       {% for post in posts %}
                       <tr>
                           <td>
                               {{post.title}}
                           </td>

                           <td>
                               <a href="{{ url_for('topic_show', id = post.id) }}">Show</a>
                           </td>
                           <td>

                               <a href="{{ url_for('topic_update', id = post.id) }}">Edit</a>
                           </td>

                           <td>
                                <a id="{{post.id}}" href="#">Delete</a>
                           </td>

                       </tr>
                       {% endfor %}
                   </tbody>
              </table>
        </div>
      </div>
       </div>
       <div id="footer">
         <div class="container">
           <h4>Done by: 0xThamer</h4>
         </div>
       </div>
  </body>
</html>

<script
     src="https://code.jquery.com/jquery-3.3.1.min.js"
     integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
     crossorigin="anonymous"></script>
    <script>
    $(function ()
    {
        $("a").click(function(event)
        {
            var id = event.target.id;
            $.ajax({
                type: "DELETE",
                url: "/api/topic/delete/"+id,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function(response)
                {
                    alert("Delete ");
                }
            });
        });
    });
</script>