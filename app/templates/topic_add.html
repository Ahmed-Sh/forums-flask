<!doctype html>
<html>
    <head>
      <meta charset="utf-8">
        <title>topic add</title>
        <link rel="stylesheet" href="/css/style.css">
    </head>
    <body>
      <div id="header">
      <div class="container">
        <div class="float-left"></div>
          <div class="float-right">
              <a href="{{ url_for('home') }}">
                  <img src="/static/img/OMAC.png">
              </a>
          </div>
      </div>
    </div>
        <div id="main">
            <div class="container">
            <div class="input-form">
                <form action="{{ url_for('topic_add') }}" method="post">

                    <input type="text" name="title"/>
                    <br>
                    <input type="text" name="content"/>
                    <input type="submit" value="Create">
                </form>
            </div>
            </div>
        </div>
      <div id="footer">
          <div class="container">
              <h4>Done by: 0xThamer</h4>
          </div>
      </div>
    </body>

    <script
     src="https://code.jquery.com/jquery-3.3.1.min.js"
     integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
     crossorigin="anonymous"></script>
<script>
    $(function ()
    {
        $("form").submit(function (event)
        {
            event.preventDefault();
            var topicTitle = $("input[name='title']").val();
            var topicContent = $("input[name='content']").val();
            var topicData = {
                "title": topicTitle,
                "content": topicContent
                };
            $.ajax({
                type: "POST",
                url: "/api/topic/add",
                data: JSON.stringify(topicData),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response)
                {
                   alert("Added topic successfully !");
                }
            });
        });
    });
</script>
</html>